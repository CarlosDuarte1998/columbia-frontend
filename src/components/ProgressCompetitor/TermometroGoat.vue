<script setup>
import { ref, defineProps, onMounted } from 'vue';

// eslint-disable-next-line no-unused-vars
let challengeSection = ref(199.8); 
let progress = ref(2000);
let progressGoat = ref('translate(1554.813 5223.993)');


let props = defineProps({
  histories: {
    type: Object,
    required: true
  } 
});  


onMounted(() => {
  let convert = props.histories.challenge.replace(",", "");
   challengeSection.value = parseFloat(convert) / 10;
  
  if (challengeSection.value) {
    progress.value = parseFloat(props.histories.history.max_distance);
  }

  if (progress.value >= challengeSection.value) {
    progressGoat.value = 'translate(1584.813 5223.993)';
  }
  if (progress.value >= challengeSection.value * 2) {
    progressGoat.value = 'translate(1600.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 3) {
    progressGoat.value = 'translate(1630.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 4) {
    progressGoat.value = 'translate(1660.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 5) {
    progressGoat.value = 'translate(1684.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 6) {
    progressGoat.value = 'translate(1715.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 7) {
    progressGoat.value = 'translate(1745.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 8) {
    progressGoat.value = 'translate(1770.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 9) {
    progressGoat.value = 'translate(1765.68 5223.993)';
  }
  if (progress.value >= challengeSection.value * 10) {
    progressGoat.value = 'translate(1770.68 5223.993)'; 
  }


  

});

</script>

<template>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="339.149" height="111.779" viewBox="0 0 339.149 111.779">
  <defs>
    <!-- img 10% -->
    <pattern  id="pattern" width="1" height="1" patternTransform="matrix(-1, 0, 0, 1, 147.824, 0)" viewBox="0 0 73.912 61.178">
      <image preserveAspectRatio="none" width="73.912" height="61.178" xlink:href="../../assets/img/goat-termo.png"/>
    </pattern>
</defs>
  <g id="Grupo_582" data-name="Grupo 582" transform="translate(-1506.902 -5191.965)">
    <g id="Grupo_444" data-name="Grupo 444">
      <!-- 0 % -->
    
      <!-- Path 10% -->
      <path v-if="progress>= challengeSection && progress < challengeSection*2" id="Trazado_130" data-name="Trazado 130" d="M1589.919,5248.87v34.359h-13.1l-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 20% -->
      <path v-if="progress>= challengeSection*2 && progress < challengeSection*3" id="Trazado_130" data-name="Trazado 130" d="M1617.823,5248.87v34.359h-41.005l-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 30% -->
      <path v-if="progress>= challengeSection*3 && progress < challengeSection*4" id="Trazado_130" data-name="Trazado 130" d="M1645.69,5248.87v33.45l-68.872.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 40% -->
      <path v-if="progress>= challengeSection*4 && progress < challengeSection*5" id="Trazado_130" data-name="Trazado 130" d="M1673.557,5248.87v33.45l-96.739.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 50% -->
      <path v-if="progress>= challengeSection*5 && progress < challengeSection*6" id="Trazado_130" data-name="Trazado 130" d="M1701.424,5248.87v33.45l-124.606.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 60% -->
      <path v-if="progress>= challengeSection*6 && progress < challengeSection*7" id="Trazado_130" data-name="Trazado 130" d="M1729.291,5248.87v33.45l-152.473.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 70% -->
      <path v-if="progress>= challengeSection*7 && progress < challengeSection*8" id="Trazado_130" data-name="Trazado 130" d="M1757.158,5248.87v33.45l-180.34.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 80% -->
      <path v-if="progress>= challengeSection*8 && progress < challengeSection*9" id="Trazado_130" data-name="Trazado 130" d="M1785.025,5248.87v33.45l-208.207.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 90% -->
      <path v-if="progress>= challengeSection*9 && progress < challengeSection*10" id="Trazado_130" data-name="Trazado 130" d="M1812.892,5248.87v33.45l-236.074.909-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <!-- Path 100% -->
      <path  v-if="progress>= challengeSection*10" id="Trazado_130" data-name="Trazado 130" d="M1836.171,5249.858v33.371H1576.818l-8.232,9.464-12.7,7.9h-14.991l-13.212-4.074-9.4-7.16-8.131-12.838-1.016-14.937,3.938-11.727,8.639-9.258,11.306-7.909,13.212-1.844,13.593,2.839,11.688,8.641,5.844,6.542Z" fill="#0083c8" />
      <g id="Grupo_442" data-name="Grupo 442">
        <g id="Grupo_441" data-name="Grupo 441">
          <g id="Grupo_432" data-name="Grupo 432">
            <rect id="Rectángulo_293" data-name="Rectángulo 293" width="2.222" height="19.82" transform="translate(1589.216 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_433" data-name="Grupo 433">
            <rect id="Rectángulo_294" data-name="Rectángulo 294" width="2.222" height="19.82" transform="translate(1616.991 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_434" data-name="Grupo 434">
            <rect id="Rectángulo_295" data-name="Rectángulo 295" width="2.222" height="19.82" transform="translate(1644.766 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_435" data-name="Grupo 435">
            <rect id="Rectángulo_296" data-name="Rectángulo 296" width="2.222" height="19.82" transform="translate(1672.541 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_436" data-name="Grupo 436">
            <rect id="Rectángulo_297" data-name="Rectángulo 297" width="2.222" height="19.82" transform="translate(1700.316 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_437" data-name="Grupo 437">
            <rect id="Rectángulo_298" data-name="Rectángulo 298" width="2.222" height="19.82" transform="translate(1728.092 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_438" data-name="Grupo 438">
            <rect id="Rectángulo_299" data-name="Rectángulo 299" width="2.222" height="19.82" transform="translate(1755.867 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_439" data-name="Grupo 439">
            <rect id="Rectángulo_300" data-name="Rectángulo 300" width="2.222" height="19.82" transform="translate(1783.642 5263.36)" fill="#fff"/>
          </g>
          <g id="Grupo_440" data-name="Grupo 440">
            <rect id="Rectángulo_301" data-name="Rectángulo 301" width="2.222" height="19.82" transform="translate(1811.417 5263.36)" fill="#fff"/>
          </g>
        </g> 
      </g>
      <text v-if="progress" id="_9416_m" data-name="9416 m" transform="translate(1520.51 5273.27)" fill="#fff" font-size="16" font-family="GerTT-Medium, GerTT" font-weight="500"><tspan x="0" y="0">{{ progress }} m</tspan></text>
      
      <text v-else id="_9416_m" data-name="9416 m" transform="translate(1520.51 5273.27)" fill="#fff" font-size="16" font-family="GerTT-Medium, GerTT" font-weight="500"><tspan x="0" y="0" >0 m</tspan></text>
      <g id="Grupo_443" data-name="Grupo 443">
        <path id="Trazado_131" data-name="Trazado 131" d="M1840.14,5252.535h0l-.22-.221-3.58-3.67-3.481-1.949-.029-.021c-.07-.07-.36-.369-.77-.8l-.02-.02c-.03-.029-.062-.064-.092-.1a1.577,1.577,0,0,0-.139-.143l-.049-.052s-.01,0-.01-.009c-1.46-1.531-3.92-4.091-4.07-4.321-.21-.329-5.12-2.869-5.43-3.029a.01.01,0,0,0-.01-.01,7.572,7.572,0,0,0-.8-.551,3.611,3.611,0,0,1-.83-.58c-3.3-3.279-7.2-5.52-9.95-9.759a7.466,7.466,0,0,0-8.13-3.31,51.545,51.545,0,0,0-6.52,1.929c-3.08,1.021-6.16,2.04-9.21,3.191-2.07.79-4.04-.151-6.05-.21-1.21-.04-1.42-1.691-2.21-2.421-2.15-2.009-4.28-4.06-6.49-5.94-3.7-3.15-7.4-6.31-11.23-9.2a32.748,32.748,0,0,0-6.41-3.56c-1.2-.551-2.24.66-3.35,1.19-.67.33-1.58-.19-2.38-.181-1.31,0-2.53-.38-3.95.2a3.577,3.577,0,0,1-4.11-1.121c-.57-.669-1.59-.739-2.35-1.21-2-1.219-4.22-2.08-5.86-3.979a6.259,6.259,0,0,0-3.4-2.141c-3.42-.659-6.22-2.94-9.23-4.679a15.542,15.542,0,0,0-5.49-2.381c-.95-.13-2.13.33-2.76-1.119-2.23-.35-4.52-1.2-6.26,1.61a22.36,22.36,0,0,1-1.97,2.549,33.89,33.89,0,0,0-2.27,2.661c-1.88,2.79-4.22,5.089-5.63,8.4-1.22,2.88-3.34,4.8-5.37,6.761a3.2,3.2,0,0,1-1.74.96c-.43.049-1-.451-1.33-.911a5.993,5.993,0,0,0-3.42-2.18,34.566,34.566,0,0,1-5.63-2.84c-1.84-1.04-3.58-2.339-5.44-3.319-1.1-.58-2.5-1.181-3.47.1-1.74,2.309-4.25,2.829-6.26,4.5-1.7,1.4-3.43,2.969-5.46,3.48a14.921,14.921,0,0,0-8.33,5.46c-.16.2-.33.46-.53.529-2.59.98-4.31,3.23-5.78,5.92a2.15,2.15,0,0,1-3.32.54,32.625,32.625,0,0,0-7.2-5.1,5.829,5.829,0,0,0-6.6.1,34.426,34.426,0,0,0-6.43,5.04,10.814,10.814,0,0,1-3.08,2.36,167.382,167.382,0,0,0-16.52,8.711,6.946,6.946,0,0,0-.959.647l-2.076.668-2.111,1.437-2.111,1.119-3.758,2.228c-1.449.509-3.043.077-4.365,1.391a5.022,5.022,0,0,1-3.25,1.439,4.354,4.354,0,0,0-2.53.88h-1.25a37.568,37.568,0,1,0-.02,37.381h250.28a18.7,18.7,0,0,0,12.8-32.349Zm-13.128,28.718h-252.7a33.424,33.424,0,1,1,0-30.17h2.34a.878.878,0,0,0,.59.31,14.528,14.528,0,0,0,2.71-.31,5.718,5.718,0,0,0,1.09-.35c2.36-1,4.7-2.11,7.02-3.23.93-.449,1.86-.909,2.79-1.36l0,0,0,0,4.046-.467,2.439-3.207h0c.106.03.264-.052.511-.256a20.913,20.913,0,0,0,2.241-1.6l.013-.009.324-.2c.686-.14,1.175,1.548,1.852.386,2.75.029,4.82-2.2,7.12-3.531,1.57-.909,2.99-1.7,4.7-1.259,3.22.81,5.84-.63,8.23-3.19a26.142,26.142,0,0,1,5.44-4.891c.68-.4.98-.58,1.73-.009a41.859,41.859,0,0,0,4.62,2.71,1.169,1.169,0,0,1,.51.82c0,.3-.31.819-.51.839a5.382,5.382,0,0,0-4.18,3.071c-1.38,2.86-3.86,3.449-5.71,5.279-2.14,2.11-4.3,4.181-6.44,6.3a1.468,1.468,0,0,0,.18.58c.03.071.07.111.09.111.48-.011.95-.06,1.43-.111.28-.029.57-.059.85-.08,2.11-.179,3.72-1.96,5.66-2.729,2.5-1,4.67-2.83,6.91-4.521,2.67-2.01,5.23-4.32,8.26-5.6,1.72-.721,3.76-1.721,4.75-3.411,2.36-4.02,6.25-5.39,8.88-8.83.52-.679,1.55-.819,2.37-1.069a14.115,14.115,0,0,0,6.21-3.17,34.109,34.109,0,0,1,5.68-4.06c.57-.38,1.56-.681,1.62-1.15.15-1.35.76-1.27,1.44-1.06a27.672,27.672,0,0,1,3.07,1.239,1.256,1.256,0,0,1-.02.81c-1.02.781-2.01,1.851-3.12,2.17-3.84,1.08-6.62,4.37-9.52,7.161-1.99,1.919-3.78,4.359-5.73,6.459-.18.181-.21.57-.31.86a1.636,1.636,0,0,0,.64.181,2.21,2.21,0,0,0,1.23-.36,8.049,8.049,0,0,0,2.18-2.58c.58-1.46,1.35-1.451,2.43-1.6,1.79-.229,3.74-.379,5.16-1.939a17.244,17.244,0,0,1,5.45-3.641,8.872,8.872,0,0,0,2.87-1.779c1.89-2.17,3.98-2.951,6.47-2.29.67.17,1.37.149,2.06.27a2.09,2.09,0,0,1,.58.319,2.7,2.7,0,0,1-.27.57c-3.48,3.841-6.95,7.691-10.44,11.511-1.16,1.27-2.46,2.319-2.93,4.359a14.744,14.744,0,0,1-1.36,2.9,7.649,7.649,0,0,1,2.46-.361c2,.411,3.62-.75,5.24-1.79a22.255,22.255,0,0,0,3.87-3.19,52.841,52.841,0,0,0,3.54-4.379,21.852,21.852,0,0,1,1.95-2.73c3.88-3.56,6.31-8.63,9.05-13.351a69.459,69.459,0,0,1,9.28-12.759c1.07-1.14,1.51-.241,2.16.11a15.462,15.462,0,0,1,1.86,1.54,10.12,10.12,0,0,1,3.56,4.3,19.618,19.618,0,0,0,3.03,5.391c2.44,2.859,5.14,5.379,7.74,8.049,2,2.06,3.94,4.25,6.04,6.15,1.54,1.39,3.37,2.271,4.94,3.62,2.61,2.221,5.86,1.87,8.6,3.54.24.15.88.031.91-.12a2.256,2.256,0,0,0-.05-1.44c-1.84-2.949-3.66-5.949-6.44-7.69-.29-.179-.58-.339-.87-.5a5.471,5.471,0,0,0,.87-.37,15.222,15.222,0,0,1,2.6-1.619,32.644,32.644,0,0,1,4.06-.98c1.25,2.349,3.69,2.96,4.95,5.409a16.506,16.506,0,0,0,2.47,3.321c1.11,1.25,2.84.15,3.52,1.989.59-.35,1.33-.52,1.71-1.08a.876.876,0,0,0-.63-1.42c-.38-.089-.66-.71-1.04-.929-2.85-1.7-3.92-3.741-3.74-7.281.03-.719.36-1.649.11-2.1-.84-1.46-.33-1.61.69-1.29.61.18,1.15.721,1.75.951,2.73,1.029,4.77,3.52,7.12,5.31,5,3.83,10.22,7.35,14.59,12.27a27.963,27.963,0,0,0,9.42,6.68c1.89.889,3.66,2.409,5.75,2.639,1.41,2.361,3.83,2.34,5.71,3.551.82.52,1.64,1.09,2.46,1.619,2.23,1.471,4.51,2.741,6.98,2.591,1.33.15,2.35.3,3.39.38.18.009.38-.221.57-.34a3.073,3.073,0,0,0-.44-.651c-.34-.31-.73-.539-1.09-.829-.46-.39-.91-.77-1.37-1.151a83.643,83.643,0,0,0-17.09-11.4c-.38-.18-.62-.81-.92-1.23a6.463,6.463,0,0,0,1-.5c1.93-1.419,4-1.219,6.11-.989a3.016,3.016,0,0,1,2.55,1.69,13.79,13.79,0,0,0,4.93,5.349c1.27.761,2.12.3,3.07-.36.85-.6.79-1.06-.11-1.969-2.76-2.761-2.99-3.15-3.49-5.9-.21-1.08.23-1.571,1.12-1.271.21.071.54,0,.64.16,1.46,2.241,3.56,1.991,5.53,2.31.52.09,1.33.25,1.47.67.72,2.04,2.48,2.19,3.68,3.33a14.982,14.982,0,0,0,2.82,2.21l4.31,3.82,2.66,2.47,2.87,1.641h.01l6.08,4.81,2.18,2.75.01.02a15.079,15.079,0,0,1-10.26,26.139Z" fill="#fff"/>
        <path id="Trazado_132" data-name="Trazado 132" d="M1711.148,5225.645a16.078,16.078,0,0,0-5.136,2.179c-.2.122-.712-.124-.858-.388a1.378,1.378,0,0,1,.095-1.1c1.094-1.363,2.6-2.225,3.224-4.153a5.677,5.677,0,0,0,.138-.893,1.966,1.966,0,0,0-.678-.08,3.385,3.385,0,0,0-1.216.448,25.122,25.122,0,0,0-7.691,7.818,6.559,6.559,0,0,1-1.9,1.642c-1.487,1.149-3.248,1.964-4.412,3.488-1.233,1.614-2.5,3.142-3.838,4.607a1.13,1.13,0,0,0-.059.821c.064.214.315.341.667.688.382-.334.815-.723,1.256-1.1.825-.695,1.669-1.987,2.481-1.96,2.684.089,4.448-2.715,6.944-3,1.946-2.368,4.583-2.89,6.957-4.15,1.675-.889,3.585-1.359,4.872-3.251a30.547,30.547,0,0,1,2.093-2.5C1712.957,5224.37,1712.109,5225.455,1711.148,5225.645Z" fill="#fff"/>
        <path id="Trazado_133" data-name="Trazado 133" d="M1755.637,5239.92c-2.189-.7-2.827-3.37-4.611-4.368-.568-2.7-2.384-2.669-4.083-2.831a.87.87,0,0,0-.733.517,1.5,1.5,0,0,0,.24,1.092c.378.441.921.663,1.309,1.095,2.428,2.7,5.368,4.689,7.276,8.088.639,1.137,1.415,1.737,2.432,1.623a2.9,2.9,0,0,0,.777.078c.307-.06.749-.108.863-.355a1.445,1.445,0,0,0-.136-1.121C1757.9,5242.372,1756.931,5240.333,1755.637,5239.92Z" fill="#fff"/>
        <path id="Trazado_134" data-name="Trazado 134" d="M1729.583,5232.937a33.686,33.686,0,0,0-3.937-4.114,7.983,7.983,0,0,0-1.558-1.363c-.251-.143-.131,1.205.528,2.654.267.588.877,1.222.8,1.71-.238,1.554.6,2.354,1.247,3.237.882,1.2,1.944,2.187,2.825,3.384a4.021,4.021,0,0,0,3.071,2c.233.005.472-.371.614-.492.027-.362.091-.548.041-.637A68.991,68.991,0,0,0,1729.583,5232.937Z" fill="#fff"/>
        <path id="Trazado_135" data-name="Trazado 135" d="M1758.544,5231.519c-.134-.046-.4.5-.644.816.233.439.351.934.6,1.084,1.151.69,2.333,1.3,3.52,1.89a.568.568,0,0,0,.561-.27,1.862,1.862,0,0,0-.025-1.139C1761.526,5232.359,1759.99,5232.02,1758.544,5231.519Z" fill="#fff"/>
        <path id="Trazado_136" data-name="Trazado 136" d="M1812.719,5242.187a4.059,4.059,0,0,0-1.007-.132,12.1,12.1,0,0,0-2.021-.191c-.165.008-.369.591-.439.945a.836.836,0,0,0,.265.671c.921.313,1.99-.13,2.74,1.148.17.289,1.4.772,1.668-.356A1.749,1.749,0,0,0,1812.719,5242.187Z" fill="#fff"/>
        <path id="Trazado_137" data-name="Trazado 137" d="M1650.4,5234.4c.173.165.367.494.514.464a8.657,8.657,0,0,0,1.473-.609c-.847-.555-1.11-.831-1.193-.763A6.318,6.318,0,0,0,1650.4,5234.4Z" fill="#fff"/>
      </g>
    </g>
    <!-- 0-->
      <rect id="Rectángulo_302" data-name="Rectángulo 302" width="73.912" height="61.178" :transform="progressGoat" fill="url(#pattern)"/>
      

  </g>
</svg>


</template>

<style scoped>
  .cls-1 {
        fill: #338af3;
      }

      .cls-2, .cls-3 {
        fill: #fff;
      }

      .cls-3 {
        font-size: 19.998px;
        font-family: GerTT-Medium, GerTT;
        font-weight: 500;
      }

      .cls-4 {
        fill: url(#pattern);
       
      }
</style>